<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title></title>
  <link rel="stylesheet" href="../css/loginform.css">
  <script src="../js/lib/jquery-2.1.1.min.js"></script>
</head>
<body>
  <div id="container">
    <img id="logo" src="../static/logo.png">
    <h1>Sign up for free and get EXCITED!</h1>
    <form action="/api/register" method="post">
      <input name="email" type="email" placeholder="Email"><br/>
      <input name="nickname" type="nickname" placeholder="Nickname"><br/>
      <input name="password" type="password" placeholder="Password"><br/>
      <input name="passwordRepeat" type="password" placeholder="Password again"><br/>
      <input type="submit" value="Sign up!">
    </form>
    Already have an account? <a href="../login/">login</a>
    <p id="copyright">Copyright © ElderFrenzy 2014 • <a href="#">Terms of Use</a></p>
  </div>
  <script>
    var form = document.getElementsByTagName("form")[0];
    form.onsubmit = function (e) {
      e.preventDefault();
      var data = $(this).serializeArray();
      var dataJSON = {};
      for (var i in data) {
        dataJSON[data[i].name] = data[i].value;
      }
      dataJSON = JSON.stringify(dataJSON);
      $.ajax({
        type: "POST",
        url: this.action,
        data: dataJSON,
        success: function(){},
        dataType: "json",
        contentType : "application/json"
      });
    };
  </script>
</body>
</html>